{% extends "layout.html" %} 

{% block content %}
<div class="card">
  <section class="avatar" style="background: url({{students.avatar_url}}) no-repeat center center / cover; border-radius: 4px 0 0 4px;"></section>
  <section class="details">
      <form method="POST" action="/students?_method=PUT">

          <h3>Editar Aluno(a)</h3>

          {% include 'students/fields.html' %}

          <input type="hidden" name="id" value="{{students.id}}"> 
          
          <button type="submit">Salvar</button>                
      </form>
      <form id="delete-form" method="POST" action="/students?_method=DELETE">
          <input type="hidden" name="id" value="{{students.id}}">
          
          <button type="submit">Excluir</button>
      </form>

      <script>
          const formDelete = document.querySelector('#delete-form')
          formDelete.addEventListener('submit', function(event) {
            const confirmation = confirm('Deseja Deletar?')
            if(!confirmation) {
                event.preventDefault()
            }
          })
      </script>

  </section>
</div>
{% endblock content %}

